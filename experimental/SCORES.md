# ローカルLLM翻訳実験

## 推論レベル別システム設計と実験スコア

| モデル | -r 0 | -r 1 | -r 2 | -r 3 | -r 4 |
|:---|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | **71** | 52 | 60 | 65 | 69 |
| **qwen3-14b** | 90 | 71 | **91** | 87 | 80 |
| **gemma2-9b** | **74** | 30 | 70 | 58 | 34 |
| **gemma3-4b** | 52 | 42 | 47 | **52** | 20 |
| **gemma3-12b** | **95** | 11 | 90 | 86 | 89 |
| **gemma3n-e4b** | 72 | 17 | **88** | 70 | 53 |
| **phi4 (14B)** | 82 | 80 | 81 | **83** | 74 |

### レベル0: 直接翻訳

| モデル | 0-05 | 0-10 | 0-15 | 0-20-a | 0-20-b | 0-25 |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 60 | 55 | 61 | 56 | **62** | 45 |
| **qwen3-4b (t)** | 56 | 53 | 56 | 56 | **60** | 47 |
| **qwen3-14b** | **91** | 86 | - | 84 | **91** | - |
| **gemma2-9b** | 77 | **79** | - | 71 | 77 | - |
| **gemma3-4b** | 69 | **74** | - | 68 | 70 | - |
| **gemma3-12b** | 89 | 91 | - | **93** | 72 | - |
| **gemma3n-e4b** | 53 | 63 | - | 83 | **87** | - |
| **phi4** | 80 | **92** | - | 79 | 79 | - |

### レベル1: 推論付き翻訳

| モデル | 1-05 | 1-10 | 1-15 | 1-20 | 1-25 |
|:---|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 50 | 41 | 51 | **69** | 60 |
| **qwen3-4b (t)** | 50 | 58 | 57 | 58 | **71** |
| **qwen3-14b** | **85** | 82 | - | 82 | - |
| **gemma2-9b** | **64** | 46 | - | 40 | - |
| **gemma3-4b** | 42 | 34 | - | **54** | - |
| **gemma3-12b** | 2 | **5** | - | **5** | - |
| **gemma3n-e4b** | 55 | **56** | - | 39 | - |
| **phi4** | 8 | 15 | - | **69** | - |

### レベル2: 2段階翻訳

| モデル | 2-05 | 2-10 | 2-15 | 2-20 | 2-25 |
|:---|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 61 | **76** | 62 | 66 | 59 |
| **qwen3-4b (t)** | **71** | 35 | 61 | 63 | 68 |
| **qwen3-14b** | **92** | 89 | - | 88 | - |
| **gemma2-9b** | 65 | 79 | - | **82** | - |
| **gemma3-4b** | **51** | 41 | - | 41 | - |
| **gemma3-12b** | **90** | **90** | - | 82 | - |
| **gemma3n-e4b** | **90** | 78 | - | 65 | - |
| **phi4** | 82 | **94** | - | 77 | - |

### 翻訳改善効果の検証（レベル0 vs レベル2）

| モデル | 0-05 | 0-10 | 0-20-a | 0-20-b | 2-05 | 2-10 | 2-20 |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 60 | 55 | 56 | 62 | 61 | **76** | 66 |
| **qwen3-14b** | 91 | 86 | 84 | 91 | **92** | 89 | 88 |
| **gemma2-9b** | 77 | 79 | 71 | 77 | 65 | 79 | **82** |
| **gemma3-4b** | 69 | **74** | 68 | 70 | 51 | 41 | 41 |
| **gemma3-12b** | 89 | 91 | **93** | 72 | 90 | 90 | 82 |
| **gemma3n-e4b** | 53 | 63 | 83 | 87 | **90** | 78 | 65 |
| **phi4** | 80 | 92 | 79 | 79 | 82 | **94** | 77 |

### 直接翻訳における構造化出力の影響調査（レベル0 vs tr4）

| モデル | 0-05 | 0-10 | 0-20-a | 0-20-b | tr4-05 | tr4-10 | tr4-20 |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 60 | 55 | 56 | **62** | 52 | 54 | 42 |
| **qwen3-14b** | 91 | 86 | 84 | **91** | 79 | 77 | 75 |
| **qwen3-4b (nt)** | - | - | - | - | **71** | 58 | 56 |
| **qwen3-14b (nt)** | - | - | - | - | 81 | **90** | 84 |
| **gemma2-9b** | 77 | 79 | 71 | 77 | **80** | 65 | 65 |
| **gemma3-4b** | 69 | **74** | 68 | 70 | 25 | 58 | 71 |
| **gemma3-12b** | 89 | 91 | 93 | 72 | 79 | **94** | 90 |
| **gemma3n-e4b** | 53 | 63 | 83 | **87** | 77 | 84 | 86 |
| **phi4** | 80 | 92 | 79 | 79 | 84 | 89 | **92** |
| **gpt-oss-20b** | - | - | - | - | **91** | 86 | 83 |

### 推論付き翻訳における構造化出力の影響調査（レベル1 vs tr6）

| モデル | 1-05 | 1-10 | 1-20 | tr6-05 | tr6-10 | tr6-20 |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 50 | 41 | **69** | 55 | 47 | 66 |
| **qwen3-14b** | 85 | 82 | 82 | 74 | **87** | 70 |
| **qwen3-4b (nt)** | - | - | - | 54 | 49 | **65** |
| **qwen3-14b (nt)** | - | - | - | **96** | 83 | 82 |
| **gemma2-9b** | 64 | 46 | 40 | 48 | 46 | **68** |
| **gemma3-4b** | 42 | 34 | 54 | **64** | 61 | 48 |
| **gemma3-12b** | 2 | 5 | 5 | 87 | **93** | 91 |
| **gemma3n-e4b** | 55 | 56 | 39 | **74** | 73 | 68 |
| **phi4** | 8 | 15 | 69 | 78 | **89** | 79 |
| **gpt-oss-20b** | - | - | - | **97** | 83 | 91 |

### 自由記述式推論比較（tr5 vs tr6）

| モデル | tr5-05 | tr5-10 | tr5-20 | tr6-05 | tr6-10 | tr6-20 |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|
| **qwen3-4b** | 44 | 46 | 60 | 55 | 47 | **66** |
| **qwen3-14b** | 77 | 73 | 86 | 74 | **87** | 70 |
| **qwen3-4b (nt)** | 8 | 10 | 5 | 54 | 49 | **65** |
| **qwen3-14b (nt)** | 85 | 80 | 88 | **96** | 83 | 82 |
| **gemma2-9b** | **75** | 74 | 68 | 48 | 46 | 68 |
| **gemma3-4b** | **88** | 78 | 77 | 64 | 61 | 48 |
| **gemma3-12b** | **93** | 89 | 78 | 87 | **93** | 91 |
| **gemma3n-e4b** | **79** | 73 | 69 | 74 | 73 | 68 |
| **phi4** | 76 | 85 | **93** | 78 | 89 | 79 |
| **gpt-oss-20b** | 83 | 92 | 95 | **97** | 83 | 91 |

## モデル別実用設定一覧

スコア変動を考慮し、85点以上を実用レベルの目安として設定。

| モデル | スコア | 設定 |
|:---|:---:|:---|
| **gpt-oss-20b** | 97 | tr6-05 |
| **gpt-oss-20b** | 95 | tr5-20 |
| **gpt-oss-20b** | 92 | tr5-10 |
| **gpt-oss-20b** | 91 | tr4-05, tr6-20 |
| **gpt-oss-20b** | 86 | tr4-10 |
| **qwen3-14b (nt)** | 96 | tr6-05 |
| **qwen3-14b** | 92 | 2-05 |
| **qwen3-14b** | 91 | 0-05, 0-20, -r 2 (2-05) |
| **qwen3-14b (nt)** | 90 | tr4-10 |
| **qwen3-14b** | 87 | tr6-10 |
| **qwen3-14b** | 85 | 1-05 |
| **gemma3-12b** | 95 | -r 0 (0-05) |
| **gemma3-12b** | 94 | tr4-10 |
| **gemma3-12b** | 93 | 0-20, tr5-05, tr6-10 |
| **gemma3-12b** | 90 | 2-05, 2-10 |
| **phi4** | 94 | 2-10 |
| **phi4** | 93 | tr5-20 |
| **phi4** | 92 | 0-10, tr4-20 |
| **phi4** | 89 | tr6-10 |
| **gemma3n-e4b** | 90 | 2-05 |
| **gemma3n-e4b** | 88 | -r 2 (2-05) |
| **gemma3n-e4b** | 87 | 0-20 |
| **gemma3-4b** | 88 | tr5-05 |
